
<!DOCTYPE html>

<html>
  <head>
    <meta charset="ascii" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>4. Propositional Logic in Lean &#8212; Logic and Proof 3.18.4 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Classical Reasoning" href="classical_reasoning.html" />
    <link rel="prev" title="3. Natural Deduction for Propositional Logic" href="natural_deduction_for_propositional_logic.html" />
<!-- <link href="https://fonts.googleapis.com/css?family=Sorts+Mill+Goudy" rel="stylesheet"> -->
<!-- <link href="https://fonts.googleapis.com/css?family=Average" rel="stylesheet"> -->
<!-- <link href="https://fonts.googleapis.com/css?family=EB+Garamond" rel="stylesheet"> -->

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="propositional-logic-in-lean">
<h1><span class="section-number">4. </span>Propositional Logic in Lean<a class="headerlink" href="#propositional-logic-in-lean" title="Permalink to this headline">&#182;</a></h1>
<p>In this chapter, you will learn how to write proofs in Lean. We will start with a purely mechanical translation that will enable you to represent any natural deduction proof in Lean. We will see, however, that such a style of writing proofs is not very intuitive, nor does it yield very readable proofs. It also does not scale well.</p>
<p>We will then consider some mechanisms that Lean offers that support a more forward-directed style of argumentation. Since these proofs look more like informal proofs but can be directly translated to natural deduction, they will help us understand the relationship between the two.</p>
<div class="section" id="expressions-for-propositions-and-proofs">
<h2><span class="section-number">4.1. </span>Expressions for Propositions and Proofs<a class="headerlink" href="#expressions-for-propositions-and-proofs" title="Permalink to this headline">&#182;</a></h2>
<p>At its core, Lean is what is known as a <em>type checker</em>. This means that we can write expressions and ask the system to check that they are well formed, and also ask the system to tell us what type of object they denote. Try this:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20%3A%20Prop%0A%0A%23check%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20C" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="k">#check</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span>
</pre></div>
</div>
</div><p>In the online version of this text, you can press the &#8220;try it!&#8221; button to copy the example to an editor window, and then hover over the markers on the text to read the messages.</p>
<p>In the example, we declare three variables ranging over propositions, and ask Lean to check the expression <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span> <span class="pre">&#8594;</span> <span class="pre">C</span></code>. The output of the <code class="docutils literal notranslate"><span class="pre">#check</span></code> command is <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span> <span class="pre">&#8594;</span> <span class="pre">C</span> <span class="pre">:</span> <span class="pre">Prop</span></code>, which asserts that <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span> <span class="pre">&#8594;</span> <span class="pre">C</span></code> is of type <code class="docutils literal notranslate"><span class="pre">Prop</span></code>. In Lean, every well-formed expression has a type.</p>
<p>The logical connectives are rendered in unicode. The following chart shows you how you can type these symbols in the editor, and also provides ascii equivalents, for the purists among you.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 30%" />
<col style="width: 52%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Unicode</p></td>
<td><p>Ascii</p></td>
<td><p>Lean input</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>true</p></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>false</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>&#172;</p></td>
<td><p>not</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\not</span></code>, <code class="docutils literal notranslate"><span class="pre">\neg</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>&#8743;</p></td>
<td><p>/\</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\and</span></code></p></td>
</tr>
<tr class="row-even"><td><p>&#8744;</p></td>
<td><p>\/</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\or</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>&#8594;</p></td>
<td><p>-&gt;</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\to</span></code>, <code class="docutils literal notranslate"><span class="pre">\r</span></code>, <code class="docutils literal notranslate"><span class="pre">\imp</span></code></p></td>
</tr>
<tr class="row-even"><td><p>&#8596;</p></td>
<td><p>&lt;-&gt;</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\iff</span></code>, <code class="docutils literal notranslate"><span class="pre">\lr</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>&#8704;</p></td>
<td><p>forall</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\all</span></code></p></td>
</tr>
<tr class="row-even"><td><p>&#8707;</p></td>
<td><p>exists</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\ex</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>&#955;</p></td>
<td><p>fun</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\lam</span></code>, <code class="docutils literal notranslate"><span class="pre">\fun</span></code></p></td>
</tr>
<tr class="row-even"><td><p>&#8800;</p></td>
<td><p>~=</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">\ne</span></code></p></td>
</tr>
</tbody>
</table>
<p>So far, we have only talked about the first seven items on the list. We will discuss the quantifiers, lambda, and equality later. Try typing some expressions and checking them on your own. You should try changing one of the variables in the example above to <code class="docutils literal notranslate"><span class="pre">D</span></code>, or inserting a nonsense symbol into the expression, and take a look at the error message that Lean returns.</p>
<p>In addition to declaring variables, if <code class="docutils literal notranslate"><span class="pre">P</span></code> is any expression of type <code class="docutils literal notranslate"><span class="pre">Prop</span></code>, we can declare the hypothesis that <code class="docutils literal notranslate"><span class="pre">P</span></code> is true:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0Avariable%20%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%0A%0A%23check%20h" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kd">variable</span>  <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span>

<span class="k">#check</span> <span class="n">h</span>
</pre></div>
</div>
</div><p>Formally, what is going on is that any proposition can be viewed as a type, namely, the type of proofs of that proposition. A hypothesis, or premise, is just a variable of that type. Building proofs is then a matter of writing down expressions of the correct type. For example, if <code class="docutils literal notranslate"><span class="pre">P</span></code> is any expression of type <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">B</span></code>, then <code class="docutils literal notranslate"><span class="pre">and.left</span> <span class="pre">P</span></code> is an expression of type <code class="docutils literal notranslate"><span class="pre">A</span></code>, and <code class="docutils literal notranslate"><span class="pre">and.right</span> <span class="pre">P</span></code> is an expression of type <code class="docutils literal notranslate"><span class="pre">B</span></code>. In other words, if <code class="docutils literal notranslate"><span class="pre">P</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">and.left</span> <span class="pre">P</span></code> is a name for the proof you get by applying the left elimination rule for and:</p>
<img src="_static/propositional_logic_in_lean.1.png"><p>Similarly, <code class="docutils literal notranslate"><span class="pre">and.right</span> <span class="pre">P</span></code> is the proof of <code class="docutils literal notranslate"><span class="pre">B</span></code> you get by applying the right elimination rule. So, continuing the example above, we can write</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0Avariable%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%0A%0A%23check%20and.left%20h%0A%23check%20and.right%20h" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span>

<span class="k">#check</span> <span class="n">and.left</span> <span class="n">h</span>
<span class="k">#check</span> <span class="n">and.right</span> <span class="n">h</span>
</pre></div>
</div>
</div><p>The two expressions represent, respectively, these two proofs:</p>
<img src="_static/propositional_logic_in_lean.2.png"><p>Notice that in this way of representing natural deduction proofs, there are no &#8220;free floating&#8221; hypotheses. Every hypothesis has a label. In Lean, we will typically use expressions like <code class="docutils literal notranslate"><span class="pre">h</span></code>, <code class="docutils literal notranslate"><span class="pre">h1</span></code>, <code class="docutils literal notranslate"><span class="pre">h2</span></code>, &#8230; to label hypotheses, but you can use any identifier you want.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">h1</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">h2</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">B</span></code>, then <code class="docutils literal notranslate"><span class="pre">and.intro</span> <span class="pre">h1</span> <span class="pre">h2</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">B</span></code>. So we can continue the example above:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0Avariable%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%0A%0A%23check%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span>

<span class="k">#check</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>This corresponds to the following proof:</p>
<img src="_static/propositional_logic_in_lean.2b.png"><p>What about implication? The elimination rule is easy: if <code class="docutils literal notranslate"><span class="pre">P&#8321;</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">P&#8322;</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code> then <code class="docutils literal notranslate"><span class="pre">P&#8321;</span> <span class="pre">P&#8322;</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">B</span></code>. Notice that we do not even need to name the rule: you just write <code class="docutils literal notranslate"><span class="pre">P&#8321;</span></code> followed by <code class="docutils literal notranslate"><span class="pre">P&#8322;</span></code>, as though you are applying the first to the second. If <code class="docutils literal notranslate"><span class="pre">P&#8321;</span></code> and <code class="docutils literal notranslate"><span class="pre">P&#8322;</span></code> are compound expressions, put parentheses around them to make it clear where each one begins and ends.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20D%20%3A%20Prop%0A%0Avariable%20h1%20%3A%20A%20%E2%86%92%20(B%20%E2%86%92%20C)%0Avariable%20h2%20%3A%20D%20%E2%86%92%20A%0Avariable%20h3%20%3A%20D%0Avariable%20h4%20%3A%20B%0A%0A%23check%20h2%20h3%0A%23check%20h1%20(h2%20h3)%0A%23check%20(h1%20(h2%20h3))%20h4" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span>
<span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">&#8594;</span> <span class="n">A</span>
<span class="kd">variable</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">D</span>
<span class="kd">variable</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">B</span>

<span class="k">#check</span> <span class="n">h2</span> <span class="n">h3</span>
<span class="k">#check</span> <span class="n">h1</span> <span class="o">(</span><span class="n">h2</span> <span class="n">h3</span><span class="o">)</span>
<span class="k">#check</span> <span class="o">(</span><span class="n">h1</span> <span class="o">(</span><span class="n">h2</span> <span class="n">h3</span><span class="o">))</span> <span class="n">h4</span>
</pre></div>
</div>
</div><p>Lean adopts the convention that applications associate to the left, so that an expression <code class="docutils literal notranslate"><span class="pre">h1</span> <span class="pre">h2</span> <span class="pre">h3</span></code> is interpreted as <code class="docutils literal notranslate"><span class="pre">(h1</span> <span class="pre">h2)</span> <span class="pre">h3</span></code>. Implications associate to the <em>right</em>, so that <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">B</span> <span class="pre">&#8594;</span> <span class="pre">C</span></code> is interpreted as <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">(B</span> <span class="pre">&#8594;</span> <span class="pre">C)</span></code>. This may seem funny, but it is a convenient way to represent implications that take multiple hypotheses, since an expression <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">B</span> <span class="pre">&#8594;</span> <span class="pre">C</span> <span class="pre">&#8594;</span> <span class="pre">D</span> <span class="pre">&#8594;</span> <span class="pre">E</span></code> means that <code class="docutils literal notranslate"><span class="pre">E</span></code> follows from <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, <code class="docutils literal notranslate"><span class="pre">C</span></code>, and <code class="docutils literal notranslate"><span class="pre">D</span></code>. So the example above could be written as follows:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20D%20%3A%20Prop%0A%0Avariable%20h1%20%3A%20A%20%E2%86%92%20B%20%E2%86%92%20C%0Avariable%20h2%20%3A%20D%20%E2%86%92%20A%0Avariable%20h3%20%3A%20D%0Avariable%20h4%20%3A%20B%0A%0A%23check%20h2%20h3%0A%23check%20h1%20(h2%20h3)%0A%23check%20h1%20(h2%20h3)%20h4" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span>
<span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">D</span> <span class="bp">&#8594;</span> <span class="n">A</span>
<span class="kd">variable</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">D</span>
<span class="kd">variable</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">B</span>

<span class="k">#check</span> <span class="n">h2</span> <span class="n">h3</span>
<span class="k">#check</span> <span class="n">h1</span> <span class="o">(</span><span class="n">h2</span> <span class="n">h3</span><span class="o">)</span>
<span class="k">#check</span> <span class="n">h1</span> <span class="o">(</span><span class="n">h2</span> <span class="n">h3</span><span class="o">)</span> <span class="n">h4</span>
</pre></div>
</div>
</div><p>Notice that parentheses are still needed in the expression <code class="docutils literal notranslate"><span class="pre">h1</span> <span class="pre">(h2</span> <span class="pre">h3)</span></code>.</p>
<p>The implication introduction rule is the tricky one, because it can cancel a hypothesis. In terms of Lean expressions, the rule translates as follows. Suppose <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> have type <code class="docutils literal notranslate"><span class="pre">Prop</span></code>, and, assuming <code class="docutils literal notranslate"><span class="pre">h</span></code> is the premise that <code class="docutils literal notranslate"><span class="pre">A</span></code> holds, <code class="docutils literal notranslate"><span class="pre">P</span></code> is proof of <code class="docutils literal notranslate"><span class="pre">B</span></code>, possibly involving <code class="docutils literal notranslate"><span class="pre">h</span></code>. Then the expression <code class="docutils literal notranslate"><span class="pre">assume</span> <span class="pre">h</span> <span class="pre">:</span> <span class="pre">A,</span> <span class="pre">P</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">B</span></code>. For example, we can construct a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">A</span></code> as follows:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variable%20A%20%3A%20Prop%0A%0A%23check%20(assume%20h%20%3A%20A%2C%20and.intro%20h%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variable</span> <span class="n">A</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="k">#check</span> <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="n">and.intro</span> <span class="n">h</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Notice that we no longer have to declare <code class="docutils literal notranslate"><span class="pre">A</span></code> as a premise. The word <code class="docutils literal notranslate"><span class="pre">assume</span></code> makes the premise local to the expression in parentheses, and after the assumption is made, we can refer to <code class="docutils literal notranslate"><span class="pre">h</span></code>. Given the assumption <code class="docutils literal notranslate"><span class="pre">h</span> <span class="pre">:</span> <span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">and.intro</span> <span class="pre">h</span> <span class="pre">h</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">A</span></code>, and so the expression <code class="docutils literal notranslate"><span class="pre">assume</span> <span class="pre">h</span> <span class="pre">:</span> <span class="pre">A,</span> <span class="pre">and.intro</span> <span class="pre">h</span> <span class="pre">h</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">A</span></code>. In this case, we could leave out the parentheses because the expression is unambiguous:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variable%20A%20%3A%20Prop%0A%0A%23check%20assume%20h%20%3A%20A%2C%20and.intro%20h%20h" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variable</span> <span class="n">A</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="k">#check</span> <span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="n">and.intro</span> <span class="n">h</span> <span class="n">h</span>
</pre></div>
</div>
</div><p>Above, we proved <code class="docutils literal notranslate"><span class="pre">&#172;</span> <span class="pre">B</span> <span class="pre">&#8743;</span> <span class="pre">A</span></code> from the premise <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span></code>. We can instead obtain a proof of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span> <span class="pre">&#8594;</span> <span class="pre">&#172;</span> <span class="pre">B</span> <span class="pre">&#8743;</span> <span class="pre">A</span></code> as follows:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%23check%20(assume%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%2C%20and.intro%20(and.right%20h)%20(and.left%20h))" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="k">#check</span> <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">))</span>
</pre></div>
</div>
</div><p>All we did was move the premise into a local <code class="docutils literal notranslate"><span class="pre">assume</span></code>.</p>
<p>(By the way, the <code class="docutils literal notranslate"><span class="pre">assume</span></code> command is just alternative syntax for the lambda symbol, so we could also have written this:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%23check%20(%CE%BB%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%2C%20and.intro%20(and.right%20h)%20(and.left%20h))" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="k">#check</span> <span class="o">(</span><span class="bp">&#955;</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">))</span>
</pre></div>
</div>
</div><p>You will learn more about the lambda symbol later.)</p>
</div>
<div class="section" id="more-commands">
<h2><span class="section-number">4.2. </span>More commands<a class="headerlink" href="#more-commands" title="Permalink to this headline">&#182;</a></h2>
<p>Let us introduce a new Lean command, <code class="docutils literal notranslate"><span class="pre">example</span></code>. This command tells Lean that you are about to prove a theorem, or, more generally, write down an expression of the given type. It should then be followed by the proof or expression itself.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%2C%0Aand.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span>
<span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>When given this command, Lean checks the expression after the <code class="docutils literal notranslate"><span class="pre">:=</span></code> and makes sure it has the right type. If so, it accepts the expression as a valid proof. If not, it raises an error.</p>
<p>Because the <code class="docutils literal notranslate"><span class="pre">example</span></code> command provides information as to the type of the expression that follows (in this case, the proposition being proved), it sometimes enables us to omit other information. For example, we can leave off the type of the assumption:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%0Aand.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span>
<span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Because Lean knows we are trying to prove an implication with premise <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span></code>, it can infer that when we write <code class="docutils literal notranslate"><span class="pre">assume</span> <span class="pre">h</span></code>, the identifier <code class="docutils literal notranslate"><span class="pre">h</span></code> labels the assumption <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8743;</span> <span class="pre">&#172;</span> <span class="pre">B</span></code>.</p>
<p>We can also go in the other direction, and provide the system with <em>more</em> information, with the word <code class="docutils literal notranslate"><span class="pre">show</span></code>. If <code class="docutils literal notranslate"><span class="pre">A</span></code> is a proposition and <code class="docutils literal notranslate"><span class="pre">P</span></code> is a proof, the expression &#8220;<code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">A,</span> <span class="pre">from</span> <span class="pre">P</span></code>&#8221; means the same thing as <code class="docutils literal notranslate"><span class="pre">P</span></code> alone, but it signals the intention that <code class="docutils literal notranslate"><span class="pre">P</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code>. When Lean checks this expression, it confirms that <code class="docutils literal notranslate"><span class="pre">P</span></code> really is a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code>, before parsing the expression surrounding it. So, in our example, we could also write:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%2C%0Ashow%20%C2%AC%20B%20%E2%88%A7%20A%2C%20from%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>We could even annotate the smaller expressions <code class="docutils literal notranslate"><span class="pre">and.right</span> <span class="pre">h</span></code> and <code class="docutils literal notranslate"><span class="pre">and.left</span> <span class="pre">h</span></code>, as follows:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%2C%0Ashow%20%C2%AC%20B%20%E2%88%A7%20A%2C%20from%20and.intro%0A%20%20(show%20%C2%AC%20B%2C%20from%20and.right%20h)%0A%20%20(show%20A%2C%20from%20and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span>
  <span class="o">(</span><span class="k">show</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h</span><span class="o">)</span>
  <span class="o">(</span><span class="k">show</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>This is a good place to mention that Lean generally ignores whitespace, like indentation and returns. We could have written the entire example on a single line. In general, we will adopt conventions for indentation and line breaks that show the structure of proofs and make them easier to read.</p>
<p>Although in the examples above the <code class="docutils literal notranslate"><span class="pre">show</span></code> commands were not necessary, there are a number of good reasons to use this style. First, and perhaps most importantly, it makes the proofs easier for us humans to read. Second, it makes the proofs easier to <em>write</em>: if you make a mistake in a proof, it is easier for Lean to figure out where you went wrong and provide a meaningful error message if you make your intentions clear. Finally, proving information in the <code class="docutils literal notranslate"><span class="pre">show</span></code> clause often makes it possible for you to omit information in other places, since Lean can infer that information from your stated intentions.</p>
<p>There are notational variants. Rather than declare variables and premises beforehand, you can also present them as &#8220;arguments&#8221; to the example, followed by a colon:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%2C%0Ashow%20%C2%AC%20B%20%E2%88%A7%20A%2C%20from%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>There are two more tricks that can help you write proofs in Lean. The first is using <code class="docutils literal notranslate"><span class="pre">sorry</span></code>, which is a magical term in Lean which provides a proof of anything at all. It is also known as &#8220;cheating.&#8221; But cheating can help you construct legitimate proofs incrementally: if Lean accepts a proof with <code class="docutils literal notranslate"><span class="pre">sorry</span></code>&#8217;s, the parts of the proof you have written so far have passed Lean&#8217;s checks for correctness. All you need to do is replace each <code class="docutils literal notranslate"><span class="pre">sorry</span></code> with a real proof to complete the task.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20sorry%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20sorry%20sorry%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20(and.right%20h)%20sorry%0A%0Aexample%20%3A%20A%20%E2%88%A7%20%C2%AC%20B%20%E2%86%92%20%C2%AC%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="n">sorry</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="n">and.intro</span> <span class="n">sorry</span> <span class="n">sorry</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="n">sorry</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>The second trick is the use of <em>placeholders</em>, represented by the underscore symbol. When you write an underscore in an expression, you are asking the system to try to fill in the value for you. This falls short of calling full-blown automation to prove a theorem; rather, you are asking Lean to infer the value from the context. If you use an underscore where a proof should be, Lean typically will <em>not</em> fill in the proof, but it will give you an error message that tells you what is missing. This will help you write proof terms incrementally, in a backward-driven fashion. In the example above, try replacing each <code class="docutils literal notranslate"><span class="pre">sorry</span></code> by an underscore, <code class="docutils literal notranslate"><span class="pre">_</span></code>, and take a look at the resulting error messages. In each case, the error tells you what needs to be filled in, and the variables and hypotheses that are available to you at that stage.</p>
<p>One more tip: if you want to delimit the scope of variables or premises introduced with the <code class="docutils literal notranslate"><span class="pre">variables</span></code> command, put them in a block that begins with the word <code class="docutils literal notranslate"><span class="pre">section</span></code> and ends with the word <code class="docutils literal notranslate"><span class="pre">end</span></code>. We will use this mechanism below.</p>
</div>
<div class="section" id="building-natural-deduction-proofs">
<h2><span class="section-number">4.3. </span>Building Natural Deduction Proofs<a class="headerlink" href="#building-natural-deduction-proofs" title="Permalink to this headline">&#182;</a></h2>
<p>In this section, we describe a mechanical translation from natural deduction proofs, by giving a translation for each natural deduction rule. We have already seen some of the correspondences, but we repeat them all here, for completeness.</p>
<div class="section" id="implication">
<h3><span class="section-number">4.3.1. </span>Implication<a class="headerlink" href="#implication" title="Permalink to this headline">&#182;</a></h3>
<p>We have already explained that implication introduction is implemented with <code class="docutils literal notranslate"><span class="pre">assume</span></code>, and implication elimination is written as application.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%86%92%20B%20%3A%3D%0Aassume%20h%20%3A%20A%2C%0Ashow%20B%2C%20from%20sorry%0A%0Asection%0A%20%20variable%20h1%20%3A%20A%20%E2%86%92%20B%0A%20%20variable%20h2%20%3A%20A%0A%0A%20%20example%20%3A%20B%20%3A%3D%20h1%20h2%0Aend" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="k">show</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span>

<span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span>
  <span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">h1</span> <span class="n">h2</span>
<span class="kd">end</span>
</pre></div>
</div>
</div><p>Since every example begins by declaring the necessary propositional variables, we will henceforth suppress that declaration in the text.</p>
</div>
<div class="section" id="conjunction">
<h3><span class="section-number">4.3.2. </span>Conjunction<a class="headerlink" href="#conjunction" title="Permalink to this headline">&#182;</a></h3>
<p>We have already seen that and-introduction is implemented with <code class="docutils literal notranslate"><span class="pre">and.intro</span></code>, and the elimination rules are <code class="docutils literal notranslate"><span class="pre">and.left</span></code> and <code class="docutils literal notranslate"><span class="pre">and.right</span></code>.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20variables%20(h1%20%3A%20A)%20(h2%20%3A%20B)%0A%0A%20%20example%20%3A%20A%20%E2%88%A7%20B%20%3A%3D%20and.intro%20h1%20h2%0Aend%0A%0Asection%0A%20%20variable%20h%20%3A%20A%20%E2%88%A7%20B%0A%0A%20%20example%20%3A%20A%20%3A%3D%20and.left%20h%0A%20%20example%20%3A%20B%20%3A%3D%20and.right%20h%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">variables</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">B</span><span class="o">)</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">and.intro</span> <span class="n">h1</span> <span class="n">h2</span>
<span class="kd">end</span>

<span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="o">:=</span> <span class="n">and.left</span> <span class="n">h</span>
  <span class="kd">example</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">and.right</span> <span class="n">h</span>
<span class="kd">end</span>
</pre></div>
</div>
</div></div>
<div class="section" id="disjunction">
<h3><span class="section-number">4.3.3. </span>Disjunction<a class="headerlink" href="#disjunction" title="Permalink to this headline">&#182;</a></h3>
<p>The or-introduction rules are given by <code class="docutils literal notranslate"><span class="pre">or.inl</span></code> and <code class="docutils literal notranslate"><span class="pre">or.inr</span></code>.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20variable%20h%20%3A%20A%0A%0A%20%20example%20%3A%20A%20%E2%88%A8%20B%20%3A%3D%20or.inl%20h%0Aend%0A%0Asection%0A%20%20variable%20h%20%3A%20B%0A%0A%20%20example%20%3A%20A%20%E2%88%A8%20B%20%3A%3D%20or.inr%20h%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">or.inl</span> <span class="n">h</span>
<span class="kd">end</span>

<span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">B</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">or.inr</span> <span class="n">h</span>
<span class="kd">end</span>
</pre></div>
</div>
</div><p>The elimination rule is the tricky one. To prove <code class="docutils literal notranslate"><span class="pre">C</span></code> from <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8744;</span> <span class="pre">B</span></code>, you need three arguments: a proof <code class="docutils literal notranslate"><span class="pre">h</span></code> of <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8744;</span> <span class="pre">B</span></code>, a proof of <code class="docutils literal notranslate"><span class="pre">C</span></code> from <code class="docutils literal notranslate"><span class="pre">A</span></code>, and a proof of <code class="docutils literal notranslate"><span class="pre">C</span></code> from <code class="docutils literal notranslate"><span class="pre">B</span></code>. Using line breaks and indentation to highlight the structure as a proof by cases, we can write it with the following form:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20variable%20h%20%3A%20A%20%E2%88%A8%20B%0A%20%20variables%20(ha%20%3A%20A%20%E2%86%92%20C)%20(hb%20%3A%20B%20%E2%86%92%20C)%0A%20%20example%20%3A%20C%20%3A%3D%0A%20%20or.elim%20h%0A%20%20%20%20(assume%20h1%20%3A%20A%2C%0A%20%20%20%20%20%20show%20C%2C%20from%20ha%20h1)%0A%20%20%20%20(assume%20h1%20%3A%20B%2C%0A%20%20%20%20%20%20show%20C%2C%20from%20hb%20h1)%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span>
  <span class="kd">variables</span> <span class="o">(</span><span class="n">ha</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">hb</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span>
  <span class="kd">example</span> <span class="o">:</span> <span class="n">C</span> <span class="o">:=</span>
  <span class="n">or.elim</span> <span class="n">h</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
      <span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">ha</span> <span class="n">h1</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
      <span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">hb</span> <span class="n">h1</span><span class="o">)</span>
<span class="kd">end</span>
</pre></div>
</div>
</div><p>Notice that we can reuse the label <code class="docutils literal notranslate"><span class="pre">h1</span></code> in each branch, since, conceptually, the two branches are disjoint.</p>
</div>
<div class="section" id="negation">
<h3><span class="section-number">4.3.4. </span>Negation<a class="headerlink" href="#negation" title="Permalink to this headline">&#182;</a></h3>
<p>Internally, negation <code class="docutils literal notranslate"><span class="pre">&#172;</span> <span class="pre">A</span></code> is defined by <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">&#8594;</span> <span class="pre">false</span></code>, which you can think of as saying that <code class="docutils literal notranslate"><span class="pre">A</span></code> implies something impossible. The rules for negation are therefore similar to the rules for implication. To prove <code class="docutils literal notranslate"><span class="pre">&#172;</span> <span class="pre">A</span></code>, assume <code class="docutils literal notranslate"><span class="pre">A</span></code> and derive a contradiction.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variable%20A%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20example%20%3A%20%C2%AC%20A%20%3A%3D%0A%20%20assume%20h%20%3A%20A%2C%0A%20%20show%20false%2C%20from%20sorry%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">example</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">A</span> <span class="o">:=</span>
  <span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
  <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span>
<span class="kd">end</span>
</pre></div>
</div>
</div><p>If you have proved a negation <code class="docutils literal notranslate"><span class="pre">&#172;</span> <span class="pre">A</span></code>, you can get a contradiction by applying it to a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code>.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variable%20A%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20variable%20h1%20%3A%20%C2%AC%20A%0A%20%20variable%20h2%20%3A%20A%0A%0A%20%20example%20%3A%20false%20%3A%3D%20h1%20h2%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">A</span>
  <span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">false</span> <span class="o">:=</span> <span class="n">h1</span> <span class="n">h2</span>
<span class="kd">end</span>
</pre></div>
</div>
</div></div>
<div class="section" id="truth-and-falsity">
<h3><span class="section-number">4.3.5. </span>Truth and falsity<a class="headerlink" href="#truth-and-falsity" title="Permalink to this headline">&#182;</a></h3>
<p>The <em>ex falso</em> rule is called <code class="docutils literal notranslate"><span class="pre">false.elim</span></code>:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20variable%20h%20%3A%20false%0A%0A%20%20example%20%3A%20A%20%3A%3D%20false.elim%20h%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h</span> <span class="o">:</span> <span class="n">false</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="o">:=</span> <span class="n">false.elim</span> <span class="n">h</span>
<span class="kd">end</span>
</pre></div>
</div>
</div><p>There isn&#8217;t much to say about <code class="docutils literal notranslate"><span class="pre">true</span></code> beyond the fact that it is trivially true:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20%3A%20true%20%3A%3D%20trivial" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">:</span> <span class="n">true</span> <span class="o">:=</span> <span class="n">trivial</span>
</pre></div>
</div>
</div></div>
<div class="section" id="bi-implication">
<h3><span class="section-number">4.3.6. </span>Bi-implication<a class="headerlink" href="#bi-implication" title="Permalink to this headline">&#182;</a></h3>
<p>The introduction rule for &#8220;if and only if&#8221; is <code class="docutils literal notranslate"><span class="pre">iff.intro</span></code>.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0A--%20BEGIN%0Aexample%20%3A%20A%20%E2%86%94%20B%20%3A%3D%0Aiff.intro%0A%20%20(assume%20h%20%3A%20A%2C%0A%20%20%20%20show%20B%2C%20from%20sorry)%0A%20%20(assume%20h%20%3A%20B%2C%0A%20%20%20%20show%20A%2C%20from%20sorry)%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8596;</span> <span class="n">B</span> <span class="o">:=</span>
<span class="n">iff.intro</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">)</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">)</span>
</pre></div>
</div>
</div><p>As usual, we have chosen indentation to make the structure clear. Notice that the same label, <code class="docutils literal notranslate"><span class="pre">h</span></code>, can be used on both branches, with a different meaning in each, because the scope of an <code class="docutils literal notranslate"><span class="pre">assume</span></code> is limited to the expression in which it appears.</p>
<p>The elimination rules are <code class="docutils literal notranslate"><span class="pre">iff.elim_left</span></code> and <code class="docutils literal notranslate"><span class="pre">iff.elim_right</span></code>:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20variable%20h1%20%3A%20A%20%E2%86%94%20B%0A%20%20variable%20h2%20%3A%20A%0A%0A%20%20example%20%3A%20B%20%3A%3D%20iff.elim_left%20h1%20h2%0Aend%0A%0Asection%0A%20%20variable%20h1%20%3A%20A%20%E2%86%94%20B%0A%20%20variable%20h2%20%3A%20B%0A%0A%20%20example%20%3A%20A%20%3A%3D%20iff.elim_right%20h1%20h2%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8596;</span> <span class="n">B</span>
  <span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span> <span class="n">iff.elim_left</span> <span class="n">h1</span> <span class="n">h2</span>
<span class="kd">end</span>

<span class="kn">section</span>
  <span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8596;</span> <span class="n">B</span>
  <span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">B</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="o">:=</span> <span class="n">iff.elim_right</span> <span class="n">h1</span> <span class="n">h2</span>
<span class="kd">end</span>
</pre></div>
</div>
</div><p>Lean recognizes the abbreviation <code class="docutils literal notranslate"><span class="pre">iff.mp</span></code> for <code class="docutils literal notranslate"><span class="pre">iff.elim_left</span></code>, where &#8220;mp&#8221; stands for &#8220;modus ponens&#8221;. Similarly, you can use <code class="docutils literal notranslate"><span class="pre">iff.mpr</span></code>, for &#8220;modus ponens reverse&#8221;, instead of <code class="docutils literal notranslate"><span class="pre">iff.elim_right</span></code>.</p>
</div>
<div class="section" id="reductio-ad-absurdum-proof-by-contradiction">
<h3><span class="section-number">4.3.7. </span>Reductio ad absurdum (proof by contradiction)<a class="headerlink" href="#reductio-ad-absurdum-proof-by-contradiction" title="Permalink to this headline">&#182;</a></h3>
<p>Finally, there is the rule for proof by contradiction, which we will discuss in greater detail in <a class="reference internal" href="classical_reasoning.html#classical-reasoning"><span class="std std-numref">Chapter 5</span></a>. It is included for completeness here.</p>
<p>The rule is called <code class="docutils literal notranslate"><span class="pre">by_contradiction</span></code>. It has one argument, which is a proof of <code class="docutils literal notranslate"><span class="pre">false</span></code> from <code class="docutils literal notranslate"><span class="pre">&#172;</span> <span class="pre">A</span></code>. To use the rule, you have to ask Lean to allow classical reasoning, by writing <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">classical</span></code>. You can do this at the beginning of the file, or any time before using it. If you say <code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">classical</span></code> in a section, it will remain in scope for that section.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20%3A%20Prop%0A%0A--%20BEGIN%0Asection%0A%20%20open%20classical%0A%0A%20%20example%20%3A%20A%20%3A%3D%0A%20%20by_contradiction%0A%20%20%20%20(assume%20h%20%3A%20%C2%AC%20A%2C%0A%20%20%20%20%20%20show%20false%2C%20from%20sorry)%0Aend%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">section</span>
  <span class="kn">open</span> <span class="n">classical</span>

  <span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="o">:=</span>
  <span class="n">by_contradiction</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">A</span><span class="o">,</span>
      <span class="k">show</span> <span class="n">false</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">)</span>
<span class="kd">end</span>
</pre></div>
</div>
</div></div>
<div class="section" id="examples">
<h3><span class="section-number">4.3.8. </span>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">&#182;</a></h3>
<p>In the last chapter, we constructed the following proof of <span class="math notranslate nohighlight">\(A \to C\)</span> from <span class="math notranslate nohighlight">\(A \to B\)</span> and <span class="math notranslate nohighlight">\(B \to C\)</span>:</p>
<img src="_static/propositional_logic_in_lean.3.png"><p>We can model this in Lean as follows:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20%3A%20Prop%0A%0Avariable%20h1%20%3A%20A%20%E2%86%92%20B%0Avariable%20h2%20%3A%20B%20%E2%86%92%20C%0A%0Aexample%20%3A%20A%20%E2%86%92%20C%20%3A%3D%0Aassume%20h%20%3A%20A%2C%0Ashow%20C%2C%20from%20h2%20(h1%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span>
<span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">C</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h2</span> <span class="o">(</span><span class="n">h1</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Notice that the hypotheses in the natural deduction proof that are not canceled are declared as variables in the Lean version.</p>
<p>We also constructed the following proof:</p>
<img src="_static/propositional_logic_in_lean.4.png"><p>Here is how it is written in Lean:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20(A%20%E2%86%92%20(B%20%E2%86%92%20C))%20%E2%86%92%20(A%20%E2%88%A7%20B%20%E2%86%92%20C)%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%86%92%20(B%20%E2%86%92%20C)%2C%0Aassume%20h2%20%3A%20A%20%E2%88%A7%20B%2C%0Ashow%20C%2C%20from%20h1%20(and.left%20h2)%20(and.right%20h2)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">))</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">),</span>
<span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h1</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h2</span><span class="o">)</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h2</span><span class="o">)</span>
</pre></div>
</div>
</div><p>This works because <code class="docutils literal notranslate"><span class="pre">and.left</span> <span class="pre">h2</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code>, and <code class="docutils literal notranslate"><span class="pre">and.right</span> <span class="pre">h2</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">B</span></code>.</p>
<p>Finally, we constructed the following proof of <span class="math notranslate nohighlight">\(A \wedge (B \vee C) \to (A \wedge B) \vee (A \wedge C)\)</span>:</p>
<img src="_static/propositional_logic_in_lean.5.png"><p>Here is a version in Lean:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%20%E2%86%92%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%2C%0Aor.elim%20(and.right%20h1)%0A%20%20(assume%20h2%20%3A%20B%2C%0A%20%20%20%20show%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%0A%20%20%20%20%20%20from%20or.inl%20(and.intro%20(and.left%20h1)%20h2))%0A%20%20(assume%20h2%20%3A%20C%2C%0A%20%20%20%20show%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%0A%20%20%20%20%20%20from%20or.inr%20(and.intro%20(and.left%20h1)%20h2))" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">),</span>
<span class="n">or.elim</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h1</span><span class="o">)</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
    <span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span>
      <span class="k">from</span> <span class="n">or.inl</span> <span class="o">(</span><span class="n">and.intro</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h1</span><span class="o">)</span> <span class="n">h2</span><span class="o">))</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">C</span><span class="o">,</span>
    <span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span>
      <span class="k">from</span> <span class="n">or.inr</span> <span class="o">(</span><span class="n">and.intro</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h1</span><span class="o">)</span> <span class="n">h2</span><span class="o">))</span>
</pre></div>
</div>
</div><p>In fact, bearing in mind that <code class="docutils literal notranslate"><span class="pre">assume</span></code> is alternative syntax for the symbol <code class="docutils literal notranslate"><span class="pre">&#955;</span></code>, and that Lean can often infer the type of an assumption, we can make the proof remarkably brief:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%20%E2%86%92%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%20%3A%3D%0A%CE%BB%20h1%2C%20or.elim%20(and.right%20h1)%0A%20%20(%CE%BB%20h2%2C%20or.inl%20(and.intro%20(and.left%20h1)%20h2))%0A%20%20(%CE%BB%20h2%2C%20or.inr%20(and.intro%20(and.left%20h1)%20h2))" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="bp">&#955;</span> <span class="n">h1</span><span class="o">,</span> <span class="n">or.elim</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h1</span><span class="o">)</span>
  <span class="o">(</span><span class="bp">&#955;</span> <span class="n">h2</span><span class="o">,</span> <span class="n">or.inl</span> <span class="o">(</span><span class="n">and.intro</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h1</span><span class="o">)</span> <span class="n">h2</span><span class="o">))</span>
  <span class="o">(</span><span class="bp">&#955;</span> <span class="n">h2</span><span class="o">,</span> <span class="n">or.inr</span> <span class="o">(</span><span class="n">and.intro</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h1</span><span class="o">)</span> <span class="n">h2</span><span class="o">))</span>
</pre></div>
</div>
</div><p>The proof is cryptic, though. Using such a style makes proofs hard to write, read, understand, maintain, and debug. In the next section we will describe a remarkably simple device that makes it much easier to understand what is going on.</p>
</div>
</div>
<div class="section" id="forward-reasoning">
<h2><span class="section-number">4.4. </span>Forward Reasoning<a class="headerlink" href="#forward-reasoning" title="Permalink to this headline">&#182;</a></h2>
<p>Lean supports forward reasoning by allowing you to write proofs using the <code class="docutils literal notranslate"><span class="pre">have</span></code> command.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20%3A%20Prop%0A%0Avariable%20h1%20%3A%20A%20%E2%86%92%20B%0Avariable%20h2%20%3A%20B%20%E2%86%92%20C%0A%0Aexample%20%3A%20A%20%E2%86%92%20C%20%3A%3D%0Aassume%20h%20%3A%20A%2C%0Ahave%20h3%20%3A%20B%2C%20from%20h1%20h%2C%0Ashow%20C%2C%20from%20h2%20h3" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span>
<span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">C</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h1</span> <span class="n">h</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h2</span> <span class="n">h3</span>
</pre></div>
</div>
</div><p>Writing a proof with <code class="docutils literal notranslate"><span class="pre">have</span> <span class="pre">h</span> <span class="pre">:</span> <span class="pre">A,</span> <span class="pre">from</span> <span class="pre">P,</span> <span class="pre">...</span> <span class="pre">h</span> <span class="pre">...</span></code> has the same effect as writing <code class="docutils literal notranslate"><span class="pre">...</span> <span class="pre">P</span> <span class="pre">...</span></code>. This <code class="docutils literal notranslate"><span class="pre">have</span></code> command checks that <code class="docutils literal notranslate"><span class="pre">P</span></code> is a proof of <code class="docutils literal notranslate"><span class="pre">A</span></code>, and then give you the label <code class="docutils literal notranslate"><span class="pre">h</span></code> to use in place of <code class="docutils literal notranslate"><span class="pre">P</span></code>. Thus the last line of the previous proof can be thought of as abbreviating <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">C,</span> <span class="pre">from</span> <span class="pre">h2</span> <span class="pre">(h1</span> <span class="pre">h)</span></code>, since <code class="docutils literal notranslate"><span class="pre">h3</span></code> abbreviates <code class="docutils literal notranslate"><span class="pre">h1</span> <span class="pre">h</span></code>. Such abbreviations can make a big difference, especially when the proof <code class="docutils literal notranslate"><span class="pre">P</span></code> is very long.</p>
<p>There are a number of advantages to using <code class="docutils literal notranslate"><span class="pre">have</span></code>. For one thing, it makes the proof more readable: the example above states <code class="docutils literal notranslate"><span class="pre">B</span></code> explicitly as an auxiliary goal. It can also save repetition: <code class="docutils literal notranslate"><span class="pre">h3</span></code> can be used repeatedly after it is introduced, without duplicating the proof. Finally, it makes it easier to construct and debug the proof: stating <code class="docutils literal notranslate"><span class="pre">B</span></code> as an auxiliary goal makes it easier for Lean to deliver an informative error message when the goal is not properly met.</p>
<p>In the last section, we considered the following proof:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20(A%20%E2%86%92%20(B%20%E2%86%92%20C))%20%E2%86%92%20(A%20%E2%88%A7%20B%20%E2%86%92%20C)%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%86%92%20(B%20%E2%86%92%20C)%2C%0Aassume%20h2%20%3A%20A%20%E2%88%A7%20B%2C%0Ashow%20C%2C%20from%20h1%20(and.left%20h2)%20(and.right%20h2)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">))</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">),</span>
<span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h1</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h2</span><span class="o">)</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h2</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Using <code class="docutils literal notranslate"><span class="pre">have</span></code>, it can be written more perspicuously as follows:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20(A%20%E2%86%92%20(B%20%E2%86%92%20C))%20%E2%86%92%20(A%20%E2%88%A7%20B%20%E2%86%92%20C)%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%86%92%20(B%20%E2%86%92%20C)%2C%0Aassume%20h2%20%3A%20A%20%E2%88%A7%20B%2C%0Ahave%20h3%20%3A%20A%2C%20from%20and.left%20h2%2C%0Ahave%20h4%20%3A%20B%2C%20from%20and.right%20h2%2C%0Ashow%20C%2C%20from%20h1%20h3%20h4" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">))</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">),</span>
<span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h2</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h2</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h1</span> <span class="n">h3</span> <span class="n">h4</span>
</pre></div>
</div>
</div><p>We can be even more verbose, and add another line:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20(A%20%E2%86%92%20(B%20%E2%86%92%20C))%20%E2%86%92%20(A%20%E2%88%A7%20B%20%E2%86%92%20C)%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%86%92%20(B%20%E2%86%92%20C)%2C%0Aassume%20h2%20%3A%20A%20%E2%88%A7%20B%2C%0Ahave%20h3%20%3A%20A%2C%20from%20and.left%20h2%2C%0Ahave%20h4%20%3A%20B%2C%20from%20and.right%20h2%2C%0Ahave%20h5%20%3A%20B%20%E2%86%92%20C%2C%20from%20h1%20h3%2C%0Ashow%20C%2C%20from%20h5%20h4" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">))</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">),</span>
<span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h2</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h2</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h5</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h1</span> <span class="n">h3</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">h5</span> <span class="n">h4</span>
</pre></div>
</div>
</div><p>Adding more information doesn&#8217;t always make a proof more readable; when the individual expressions are small and easy enough to understand, spelling them out in detail can introduce clutter. As you learn to use Lean, you will have to develop your own style, and use your judgment to decide which steps to make explicit.</p>
<p>Here is how some of the basic inferences look, when expanded with <code class="docutils literal notranslate"><span class="pre">have</span></code>. In the and-introduction rule, it is a matter showing each conjunct first, and then putting them together:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%88%A7%20B%2C%0Ahave%20h2%20%3A%20A%2C%20from%20and.left%20h1%2C%0Ahave%20h3%20%3A%20B%2C%20from%20and.right%20h1%2C%0Ashow%20B%20%E2%88%A7%20A%2C%20from%20and.intro%20h3%20h2" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h1</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h1</span><span class="o">,</span>
<span class="k">show</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="n">h3</span> <span class="n">h2</span>
</pre></div>
</div>
</div><p>Compare that with this version, which instead states first that we will use the <code class="docutils literal notranslate"><span class="pre">and.intro</span></code> rule, and then makes the two resulting goals explicit:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%88%A7%20B%2C%0Ashow%20B%20%E2%88%A7%20A%2C%20from%0A%20%20and.intro%0A%20%20%20%20(show%20B%2C%20from%20and.right%20h1)%0A%20%20%20%20(show%20A%2C%20from%20and.left%20h1)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span>
  <span class="n">and.intro</span>
    <span class="o">(</span><span class="k">show</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h1</span><span class="o">)</span>
    <span class="o">(</span><span class="k">show</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h1</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Once again, at issue is only readability. Lean does just fine with the following short version:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0A%CE%BB%20h%2C%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="bp">&#955;</span> <span class="n">h</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>When using the or-elimination rule, it is often clearest to state the relevant disjunction explicitly:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20C%20%3A%3D%0Ahave%20h%20%3A%20A%20%E2%88%A8%20B%2C%20from%20sorry%2C%0Ashow%20C%2C%20from%20or.elim%20h%0A%20%20(assume%20h1%20%3A%20A%2C%0A%20%20%20%20show%20C%2C%20from%20sorry)%0A%20%20(assume%20h2%20%3A%20B%2C%0A%20%20%20%20show%20C%2C%20from%20sorry)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">C</span> <span class="o">:=</span>
<span class="k">have</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">,</span>
<span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">or.elim</span> <span class="n">h</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">)</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
    <span class="k">show</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">sorry</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Here is a <code class="docutils literal notranslate"><span class="pre">have</span></code>-structured presentation of an example from the previous section:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20C%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%20%E2%86%92%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%20%3A%3D%0Aassume%20h1%20%3A%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%2C%0Ahave%20h2%20%3A%20A%2C%20from%20and.left%20h1%2C%0Ahave%20h3%20%3A%20B%20%E2%88%A8%20C%2C%20from%20and.right%20h1%2C%0Ashow%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%20from%0A%20%20or.elim%20h3%0A%20%20%20%20(assume%20h4%20%3A%20B%2C%0A%20%20%20%20%20%20have%20h5%20%3A%20A%20%E2%88%A7%20B%2C%20from%20and.intro%20h2%20h4%2C%0A%20%20%20%20%20%20show%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%20from%20or.inl%20h5)%0A%20%20%20%20(assume%20h4%20%3A%20C%2C%0A%20%20%20%20%20%20have%20h5%20%3A%20A%20%E2%88%A7%20C%2C%20from%20and.intro%20h2%20h4%2C%0A%20%20%20%20%20%20show%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%20from%20or.inr%20h5)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">),</span>
<span class="k">have</span> <span class="n">h2</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h1</span><span class="o">,</span>
<span class="k">have</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h1</span><span class="o">,</span>
<span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span> <span class="k">from</span>
  <span class="n">or.elim</span> <span class="n">h3</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">h5</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="n">h2</span> <span class="n">h4</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span> <span class="k">from</span> <span class="n">or.inl</span> <span class="n">h5</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="n">h4</span> <span class="o">:</span> <span class="n">C</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">h5</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="n">h2</span> <span class="n">h4</span><span class="o">,</span>
      <span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span> <span class="k">from</span> <span class="n">or.inr</span> <span class="n">h5</span><span class="o">)</span>
</pre></div>
</div>
</div></div>
<div class="section" id="definitions-and-theorems">
<span id="id1"></span><h2><span class="section-number">4.5. </span>Definitions and Theorems<a class="headerlink" href="#definitions-and-theorems" title="Permalink to this headline">&#182;</a></h2>
<p>Lean allows us to name definitions and theorems for later use. For example, here is a definition of a new &#8220;connective&#8221;:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=def%20triple_and%20(A%20B%20C%20%3A%20Prop)%20%3A%20Prop%20%3A%3D%0AA%20%E2%88%A7%20(B%20%E2%88%A7%20C)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">def</span> <span class="n">triple_and</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="kt">Prop</span> <span class="o">:=</span>
<span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">)</span>
</pre></div>
</div>
</div><p>As with the <code class="docutils literal notranslate"><span class="pre">example</span></code> command, it does not matter whether the arguments <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, and <code class="docutils literal notranslate"><span class="pre">C</span></code> are declared beforehand with the <code class="docutils literal notranslate"><span class="pre">variables</span></code> command, or with the definition itself. We can then apply the definition to any expressions:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=def%20triple_and%20(A%20B%20C%20%3A%20Prop)%20%3A%20Prop%20%3A%3D%0AA%20%E2%88%A7%20(B%20%E2%88%A7%20C)%0A%0A--%20BEGIN%0Avariables%20D%20E%20F%20G%20%3A%20Prop%0A%0A%23check%20triple_and%20(D%20%E2%88%A8%20E)%20(%C2%AC%20F%20%E2%86%92%20G)%20(%C2%AC%20D)%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">D</span> <span class="n">E</span> <span class="n">F</span> <span class="n">G</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="k">#check</span> <span class="n">triple_and</span> <span class="o">(</span><span class="n">D</span> <span class="bp">&#8744;</span> <span class="n">E</span><span class="o">)</span> <span class="o">(</span><span class="bp">&#172;</span> <span class="n">F</span> <span class="bp">&#8594;</span> <span class="n">G</span><span class="o">)</span> <span class="o">(</span><span class="bp">&#172;</span> <span class="n">D</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Later, we will see more interesting examples of definitions, like the following function from natural numbers to natural numbers, which doubles its input:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=def%20double%20(n%20%3A%20%E2%84%95)%20%3A%20%E2%84%95%20%3A%3D%20n%20%2B%20n" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">def</span> <span class="n">double</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="n">&#8469;</span><span class="o">)</span> <span class="o">:</span> <span class="n">&#8469;</span> <span class="o">:=</span> <span class="n">n</span> <span class="bp">+</span> <span class="n">n</span>
</pre></div>
</div>
</div><p>What is more interesting right now is that Lean also allows us to name theorems, and use them later, as rules of inference. For example, consider the following theorem:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=theorem%20and_commute%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">theorem</span> <span class="n">and_commute</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Once we have defined it, we can use it freely:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=theorem%20and_commute%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20(and.right%20h)%20(and.left%20h)%0A%0A--%20BEGIN%0Avariables%20C%20D%20E%20%3A%20Prop%0Avariable%20h1%20%3A%20C%20%E2%88%A7%20%C2%AC%20D%0Avariable%20h2%20%3A%20%C2%AC%20D%20%E2%88%A7%20C%20%E2%86%92%20E%0A%0Aexample%20%3A%20E%20%3A%3D%20h2%20(and_commute%20C%20(%C2%AC%20D)%20h1)%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">D</span>
<span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">D</span> <span class="bp">&#8743;</span> <span class="n">C</span> <span class="bp">&#8594;</span> <span class="n">E</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">E</span> <span class="o">:=</span> <span class="n">h2</span> <span class="o">(</span><span class="n">and_commute</span> <span class="n">C</span> <span class="o">(</span><span class="bp">&#172;</span> <span class="n">D</span><span class="o">)</span> <span class="n">h1</span><span class="o">)</span>
</pre></div>
</div>
</div><p>It is annoying in this example that we have to give the arguments <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">&#172;</span> <span class="pre">D</span></code> explicitly, because they are implicit in <code class="docutils literal notranslate"><span class="pre">h1</span></code>. In fact, Lean allows us to tell this to Lean in the definition of <code class="docutils literal notranslate"><span class="pre">and_commute</span></code>:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=theorem%20and_commute%20%7BA%20B%20%3A%20Prop%7D%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">theorem</span> <span class="n">and_commute</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Here the squiggly braces indicate that the arguments <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> are <em>implicit</em>, which is to say, Lean should infer them from the context when the theorem is used. We can then write the following instead:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=theorem%20and_commute%20%7BA%20B%20%3A%20Prop%7D%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20and.intro%20(and.right%20h)%20(and.left%20h)%0A%0A--%20BEGIN%0Avariables%20C%20D%20E%20%3A%20Prop%0Avariable%20h1%20%3A%20C%20%E2%88%A7%20%C2%AC%20D%0Avariable%20h2%20%3A%20%C2%AC%20D%20%E2%88%A7%20C%20%E2%86%92%20E%0A%0Aexample%20%3A%20E%20%3A%3D%20h2%20(and_commute%20h1)%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">C</span> <span class="n">D</span> <span class="n">E</span> <span class="o">:</span> <span class="kt">Prop</span>
<span class="kd">variable</span> <span class="n">h1</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">D</span>
<span class="kd">variable</span> <span class="n">h2</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">D</span> <span class="bp">&#8743;</span> <span class="n">C</span> <span class="bp">&#8594;</span> <span class="n">E</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">E</span> <span class="o">:=</span> <span class="n">h2</span> <span class="o">(</span><span class="n">and_commute</span> <span class="n">h1</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Indeed, Lean&#8217;s library has a theorem, <code class="docutils literal notranslate"><span class="pre">and_comm</span></code>, defined in exactly this way.</p>
<p>By the way, we could avoid the <code class="docutils literal notranslate"><span class="pre">assume</span></code> step in the proof of <code class="docutils literal notranslate"><span class="pre">and_comm</span></code> by making the hypothesis into an argument:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=theorem%20and_commute%20%7BA%20B%20%3A%20Prop%7D%20(h%20%3A%20A%20%E2%88%A7%20B)%20%3A%20B%20%E2%88%A7%20A%20%3A%3D%0Aand.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">theorem</span> <span class="n">and_commute</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>The two definitions yield the same result.</p>
<p>Definitions and theorems are important in mathematics; they allow us to build up complex theories from fundamental principles. Lean also accepts the word <code class="docutils literal notranslate"><span class="pre">lemma</span></code> instead of <code class="docutils literal notranslate"><span class="pre">theorem</span></code>.</p>
<p>What is interesting is that in interactive theorem proving, we can even define familiar patterns of inference. For example, all of the following inferences were mentioned in the last chapter:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=namespace%20hidden%0A%0Avariables%20%7BA%20B%20%3A%20Prop%7D%0A%0Atheorem%20or_resolve_left%20(h1%20%3A%20A%20%E2%88%A8%20B)%20(h2%20%3A%20%C2%AC%20A)%20%3A%20B%20%3A%3D%0Aor.elim%20h1%0A%20%20(assume%20h3%20%3A%20A%2C%20show%20B%2C%20from%20false.elim%20(h2%20h3))%0A%20%20(assume%20h3%20%3A%20B%2C%20show%20B%2C%20from%20h3)%0A%0Atheorem%20or_resolve_right%20(h1%20%3A%20A%20%E2%88%A8%20B)%20(h2%20%3A%20%C2%AC%20B)%20%3A%20A%20%3A%3D%0Aor.elim%20h1%0A%20%20(assume%20h3%20%3A%20A%2C%20show%20A%2C%20from%20h3)%0A%20%20(assume%20h3%20%3A%20B%2C%20show%20A%2C%20from%20false.elim%20(h2%20h3))%0A%0Atheorem%20absurd%20(h1%20%3A%20%C2%AC%20A)%20(h2%20%3A%20A)%20%3A%20B%20%3A%3D%0Afalse.elim%20(h1%20h2)%0A%0Aend%20hidden" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kn">namespace</span> <span class="n">hidden</span>

<span class="kd">variables</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span>

<span class="kd">theorem</span> <span class="n">or_resolve_left</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span>
<span class="n">or.elim</span> <span class="n">h1</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="k">show</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">h2</span> <span class="n">h3</span><span class="o">))</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="k">show</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">h3</span><span class="o">)</span>

<span class="kd">theorem</span> <span class="n">or_resolve_right</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="o">:=</span>
<span class="n">or.elim</span> <span class="n">h1</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="k">show</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">h3</span><span class="o">)</span>
  <span class="o">(</span><span class="k">assume</span> <span class="n">h3</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span> <span class="k">show</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">false.elim</span> <span class="o">(</span><span class="n">h2</span> <span class="n">h3</span><span class="o">))</span>

<span class="kd">theorem</span> <span class="n">absurd</span> <span class="o">(</span><span class="n">h1</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">A</span><span class="o">)</span> <span class="o">(</span><span class="n">h2</span> <span class="o">:</span> <span class="n">A</span><span class="o">)</span> <span class="o">:</span> <span class="n">B</span> <span class="o">:=</span>
<span class="n">false.elim</span> <span class="o">(</span><span class="n">h1</span> <span class="n">h2</span><span class="o">)</span>

<span class="kd">end</span> <span class="n">hidden</span>
</pre></div>
</div>
</div><p>In fact, Lean&#8217;s library defines <code class="docutils literal notranslate"><span class="pre">or.resolve_left</span></code>, <code class="docutils literal notranslate"><span class="pre">or.resolve_right</span></code>, and <code class="docutils literal notranslate"><span class="pre">absurd</span></code>. We used the <code class="docutils literal notranslate"><span class="pre">namespace</span></code> command to avoid naming conflicts, which would have raised an error.</p>
<p>When we ask you to prove basic facts from propositional logic in Lean, as with propositional logic, our goal is to have you learn how to use Lean&#8217;s primitives. As a result, for those exercises, you should not use facts from the library. As we move towards real mathematics, however, you can use facts from the library more freely.</p>
</div>
<div class="section" id="additional-syntax">
<h2><span class="section-number">4.6. </span>Additional Syntax<a class="headerlink" href="#additional-syntax" title="Permalink to this headline">&#182;</a></h2>
<p>In this section, we describe some extra syntactic features of Lean, for power users. The syntactic gadgets are often convenient, and sometimes make proofs look prettier.</p>
<p>For one thing, you can use subscripted numbers with a backslash. For example, you can write <code class="docutils literal notranslate"><span class="pre">h&#8321;</span></code> by typing <code class="docutils literal notranslate"><span class="pre">h\1</span></code>. The labels are irrelevant to Lean, so the difference is only cosmetic.</p>
<p>Another feature is that you can omit the label in an <code class="docutils literal notranslate"><span class="pre">assume</span></code> statement, providing an &#8220;anonymous&#8221; hypothesis. You can then refer back to the last anonymous assumption using the keyword <code class="docutils literal notranslate"><span class="pre">this</span></code>:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0A--%20BEGIN%0Aexample%20%3A%20A%20%E2%86%92%20A%20%E2%88%A8%20B%20%3A%3D%0Aassume%20%3A%20A%2C%0Ashow%20A%20%E2%88%A8%20B%2C%20from%20or.inl%20this%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="k">show</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">or.inl</span> <span class="n">this</span>
</pre></div>
</div>
</div><p>Alternatively, you can refer back to unlabeled assumptions by putting them in French quotes:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20%3A%20Prop%0A%0A--%20BEGIN%0Aexample%20%3A%20A%20%E2%86%92%20B%20%E2%86%92%20A%20%E2%88%A7%20B%20%3A%3D%0Aassume%20%3A%20A%2C%0Aassume%20%3A%20B%2C%0Ashow%20A%20%E2%88%A7%20B%2C%20from%20and.intro%20%E2%80%B9A%E2%80%BA%20%E2%80%B9B%E2%80%BA%0A--%20END" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>
<span class="k">assume</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="o">&#8249;</span><span class="n">A</span><span class="o">&#8250;</span> <span class="o">&#8249;</span><span class="n">B</span><span class="o">&#8250;</span>
</pre></div>
</div>
</div><p>You can also use the word <code class="docutils literal notranslate"><span class="pre">have</span></code> without giving a label, and refer back to them using the same conventions. Here is an example that uses these features:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=theorem%20my_theorem%20%7BA%20B%20C%20%3A%20Prop%7D%20%3A%0A%20%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%20%E2%86%92%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20(B%20%E2%88%A8%20C)%2C%0Ahave%20A%2C%20from%20and.left%20h%2C%0Ahave%20B%20%E2%88%A8%20C%2C%20from%20and.right%20h%2C%0Ashow%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%20from%0A%20%20or.elim%20%E2%80%B9B%20%E2%88%A8%20C%E2%80%BA%0A%20%20%20%20(assume%20%3A%20B%2C%0A%20%20%20%20%20%20have%20A%20%E2%88%A7%20B%2C%20from%20and.intro%20%E2%80%B9A%E2%80%BA%20%E2%80%B9B%E2%80%BA%2C%0A%20%20%20%20%20%20show%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%20from%20or.inl%20this)%0A%20%20%20%20(assume%20%3A%20C%2C%0A%20%20%20%20%20%20have%20A%20%E2%88%A7%20C%2C%20from%20and.intro%20%E2%80%B9A%E2%80%BA%20%E2%80%B9C%E2%80%BA%2C%0A%20%20%20%20%20%20show%20(A%20%E2%88%A7%20B)%20%E2%88%A8%20(A%20%E2%88%A7%20C)%2C%20from%20or.inr%20this)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">theorem</span> <span class="n">my_theorem</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">}</span> <span class="o">:</span>
  <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">),</span>
<span class="k">have</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.left</span> <span class="n">h</span><span class="o">,</span>
<span class="k">have</span> <span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.right</span> <span class="n">h</span><span class="o">,</span>
<span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span> <span class="k">from</span>
  <span class="n">or.elim</span> <span class="o">&#8249;</span><span class="n">B</span> <span class="bp">&#8744;</span> <span class="n">C</span><span class="o">&#8250;</span>
    <span class="o">(</span><span class="k">assume</span> <span class="o">:</span> <span class="n">B</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="o">&#8249;</span><span class="n">A</span><span class="o">&#8250;</span> <span class="o">&#8249;</span><span class="n">B</span><span class="o">&#8250;,</span>
      <span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span> <span class="k">from</span> <span class="n">or.inl</span> <span class="n">this</span><span class="o">)</span>
    <span class="o">(</span><span class="k">assume</span> <span class="o">:</span> <span class="n">C</span><span class="o">,</span>
      <span class="k">have</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="o">&#8249;</span><span class="n">A</span><span class="o">&#8250;</span> <span class="o">&#8249;</span><span class="n">C</span><span class="o">&#8250;,</span>
      <span class="k">show</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8744;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">C</span><span class="o">),</span> <span class="k">from</span> <span class="n">or.inr</span> <span class="n">this</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Another trick is that you can write <code class="docutils literal notranslate"><span class="pre">h.left</span></code> and <code class="docutils literal notranslate"><span class="pre">h.right</span></code> instead of <code class="docutils literal notranslate"><span class="pre">and.left</span> <span class="pre">h</span></code> and <code class="docutils literal notranslate"><span class="pre">and.right</span> <span class="pre">h</span></code> whenever <code class="docutils literal notranslate"><span class="pre">h</span></code> is a conjunction, and you can write <code class="docutils literal notranslate"><span class="pre">&#10216;h1,</span> <span class="pre">h2&#10217;</span></code> (using <code class="docutils literal notranslate"><span class="pre">\&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">\&gt;</span></code>) instead of <code class="docutils literal notranslate"><span class="pre">and.intro</span> <span class="pre">h1</span> <span class="pre">h2</span></code> whenever Lean can figure out that a conjunction is what you are trying to prove. With these conventions, you can write the following:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20B%2C%0Ashow%20B%20%E2%88%A7%20A%2C%20from%20%E2%9F%A8h.right%2C%20h.left%E2%9F%A9" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="o">&#10216;</span><span class="n">h.right</span><span class="o">,</span> <span class="n">h.left</span><span class="o">&#10217;</span>
</pre></div>
</div>
</div><p>This is nothing more than shorthand for the following:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%20%3A%20A%20%E2%88%A7%20B%2C%0Ashow%20B%20%E2%88%A7%20A%2C%20from%20and.intro%20(and.right%20h)%20(and.left%20h)" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">,</span>
<span class="k">show</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">and.intro</span> <span class="o">(</span><span class="n">and.right</span> <span class="n">h</span><span class="o">)</span> <span class="o">(</span><span class="n">and.left</span> <span class="n">h</span><span class="o">)</span>
</pre></div>
</div>
</div><p>Even more concisely, you can write this:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20h%2C%20%E2%9F%A8h.right%2C%20h.left%E2%9F%A9" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="n">h</span><span class="o">,</span> <span class="o">&#10216;</span><span class="n">h.right</span><span class="o">,</span> <span class="n">h.left</span><span class="o">&#10217;</span>
</pre></div>
</div>
</div><p>You can even take apart a conjunction with an <code class="docutils literal notranslate"><span class="pre">assume</span></code>, so that this works:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%92%20B%20%E2%88%A7%20A%20%3A%3D%0Aassume%20%E2%9F%A8h%E2%82%81%2C%20h%E2%82%82%E2%9F%A9%2C%20%E2%9F%A8h%E2%82%82%2C%20h%E2%82%81%E2%9F%A9" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="o">&#10216;</span><span class="n">h&#8321;</span><span class="o">,</span> <span class="n">h&#8322;</span><span class="o">&#10217;,</span> <span class="o">&#10216;</span><span class="n">h&#8322;</span><span class="o">,</span> <span class="n">h&#8321;</span><span class="o">&#10217;</span>
</pre></div>
</div>
</div><p>Similarly, if <code class="docutils literal notranslate"><span class="pre">h</span></code> is a biconditional, you can write <code class="docutils literal notranslate"><span class="pre">h.mp</span></code> and <code class="docutils literal notranslate"><span class="pre">h.mpr</span></code> instead of <code class="docutils literal notranslate"><span class="pre">iff.mp</span> <span class="pre">h</span></code> and <code class="docutils literal notranslate"><span class="pre">iff.mpr</span> <span class="pre">h</span></code>, and you can write <code class="docutils literal notranslate"><span class="pre">&#10216;h1,</span> <span class="pre">h2&#10217;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">iff.intro</span> <span class="pre">h1</span> <span class="pre">h2</span></code>. As a result, Lean understands these proofs:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=example%20(A%20B%20%3A%20Prop)%20%3A%20B%20%E2%88%A7%20(A%20%E2%86%94%20B)%20%E2%86%92%20A%20%3A%3D%0Aassume%20%E2%9F%A8hB%2C%20hAB%E2%9F%A9%2C%0AhAB.mpr%20hB%0A%0Aexample%20(A%20B%20%3A%20Prop)%20%3A%20A%20%E2%88%A7%20B%20%E2%86%94%20B%20%E2%88%A7%20A%20%3A%3D%0A%E2%9F%A8assume%20%E2%9F%A8h%E2%82%81%2C%20h%E2%82%82%E2%9F%A9%2C%20%E2%9F%A8h%E2%82%82%2C%20h%E2%82%81%E2%9F%A9%2C%20assume%20%E2%9F%A8h%E2%82%81%2C%20h%E2%82%82%E2%9F%A9%2C%20%E2%9F%A8h%E2%82%82%2C%20h%E2%82%81%E2%9F%A9%E2%9F%A9" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8596;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="o">&#10216;</span><span class="n">hB</span><span class="o">,</span> <span class="n">hAB</span><span class="o">&#10217;,</span>
<span class="n">hAB.mpr</span> <span class="n">hB</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="n">B</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span> <span class="bp">&#8596;</span> <span class="n">B</span> <span class="bp">&#8743;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="o">&#10216;</span><span class="k">assume</span> <span class="o">&#10216;</span><span class="n">h&#8321;</span><span class="o">,</span> <span class="n">h&#8322;</span><span class="o">&#10217;,</span> <span class="o">&#10216;</span><span class="n">h&#8322;</span><span class="o">,</span> <span class="n">h&#8321;</span><span class="o">&#10217;,</span> <span class="k">assume</span> <span class="o">&#10216;</span><span class="n">h&#8321;</span><span class="o">,</span> <span class="n">h&#8322;</span><span class="o">&#10217;,</span> <span class="o">&#10216;</span><span class="n">h&#8322;</span><span class="o">,</span> <span class="n">h&#8321;</span><span class="o">&#10217;&#10217;</span>
</pre></div>
</div>
</div><p>Finally, you can add comments to your proofs in two ways. First, any text after a double-dash <code class="docutils literal notranslate"><span class="pre">--</span></code> until the end of a line is ignored by the Lean processor. Second, any text between <code class="docutils literal notranslate"><span class="pre">/-</span></code> and <code class="docutils literal notranslate"><span class="pre">-/</span></code> denotes a block comment, and is also ignored. You can nest block comments.</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=%2F-%20This%20is%20a%20block%20comment.%0A%20%20%20It%20can%20fill%20multiple%20lines.%20-%2F%0A%0Aexample%20(A%20%3A%20Prop)%20%3A%20A%20%E2%86%92%20A%20%3A%3D%0Aassume%20%3A%20A%2C%20%20%20%20%20%20%20%20--%20assume%20the%20antecedent%0Ashow%20A%2C%20from%20this%20%20--%20use%20it%20to%20establish%20the%20conclusion" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="c">/-</span><span class="cm"> This is a block comment.</span>
<span class="cm">   It can fill multiple lines. -/</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">A</span> <span class="o">:</span> <span class="kt">Prop</span><span class="o">)</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">A</span> <span class="o">:=</span>
<span class="k">assume</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span>        <span class="c1">-- assume the antecedent</span>
<span class="k">show</span> <span class="n">A</span><span class="o">,</span> <span class="k">from</span> <span class="n">this</span>  <span class="c1">-- use it to establish the conclusion</span>
</pre></div>
</div>
</div></div>
<div class="section" id="exercises">
<h2><span class="section-number">4.7. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">&#182;</a></h2>
<p>Prove the following in Lean:</p>
<div style="position: relative">
<div style='position: absolute; right: 0; top: 0; padding: 1ex'><a href="https://leanprover-community.github.io/lean-web-editor/#code=variables%20A%20B%20C%20D%20%3A%20Prop%0A%0Aexample%20%3A%20A%20%E2%88%A7%20(A%20%E2%86%92%20B)%20%E2%86%92%20B%20%3A%3D%0Asorry%0A%0Aexample%20%3A%20A%20%E2%86%92%20%C2%AC%20(%C2%AC%20A%20%E2%88%A7%20B)%20%3A%3D%0Asorry%0A%0Aexample%20%3A%20%C2%AC%20(A%20%E2%88%A7%20B)%20%E2%86%92%20(A%20%E2%86%92%20%C2%AC%20B)%20%3A%3D%0Asorry%0A%0Aexample%20(h%E2%82%81%20%3A%20A%20%E2%88%A8%20B)%20(h%E2%82%82%20%3A%20A%20%E2%86%92%20C)%20(h%E2%82%83%20%3A%20B%20%E2%86%92%20D)%20%3A%20C%20%E2%88%A8%20D%20%3A%3D%0Asorry%0A%0Aexample%20(h%20%3A%20%C2%AC%20A%20%E2%88%A7%20%C2%AC%20B)%20%3A%20%C2%AC%20(A%20%E2%88%A8%20B)%20%3A%3D%0Asorry%0A%0Aexample%20%3A%20%C2%AC%20(A%20%E2%86%94%20%C2%AC%20A)%20%3A%3D%0Asorry" target="_blank">
try it!</a></div><div class="highlight-lean notranslate"><div class="highlight"><pre><span class="kd">variables</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span> <span class="o">:</span> <span class="kt">Prop</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="n">B</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kd">example</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="o">(</span><span class="bp">&#172;</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8743;</span> <span class="n">B</span><span class="o">)</span> <span class="bp">&#8594;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8594;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">h&#8321;</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">h&#8322;</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">&#8594;</span> <span class="n">C</span><span class="o">)</span> <span class="o">(</span><span class="n">h&#8323;</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">&#8594;</span> <span class="n">D</span><span class="o">)</span> <span class="o">:</span> <span class="n">C</span> <span class="bp">&#8744;</span> <span class="n">D</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kd">example</span> <span class="o">(</span><span class="n">h</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="n">A</span> <span class="bp">&#8743;</span> <span class="bp">&#172;</span> <span class="n">B</span><span class="o">)</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8744;</span> <span class="n">B</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sorry</span>

<span class="kd">example</span> <span class="o">:</span> <span class="bp">&#172;</span> <span class="o">(</span><span class="n">A</span> <span class="bp">&#8596;</span> <span class="bp">&#172;</span> <span class="n">A</span><span class="o">)</span> <span class="o">:=</span>
<span class="n">sorry</span>
</pre></div>
</div>
</div></div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Logic and Proof</a></h1>








<!-- <h3>Navigation</h3> -->
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="propositional_logic.html">2. Propositional Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="natural_deduction_for_propositional_logic.html">3. Natural Deduction for Propositional Logic</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Propositional Logic in Lean</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#expressions-for-propositions-and-proofs">4.1. Expressions for Propositions and Proofs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#more-commands">4.2. More commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-natural-deduction-proofs">4.3. Building Natural Deduction Proofs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#forward-reasoning">4.4. Forward Reasoning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#definitions-and-theorems">4.5. Definitions and Theorems</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-syntax">4.6. Additional Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercises">4.7. Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="classical_reasoning.html">5. Classical Reasoning</a></li>
<li class="toctree-l1"><a class="reference internal" href="semantics_of_propositional_logic.html">6. Semantics of Propositional Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_order_logic.html">7. First Order Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="natural_deduction_for_first_order_logic.html">8. Natural Deduction for First Order Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_order_logic_in_lean.html">9. First Order Logic in Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="semantics_of_first_order_logic.html">10. Semantics of First Order Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="sets.html">11. Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="sets_in_lean.html">12. Sets in Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="relations.html">13. Relations</a></li>
<li class="toctree-l1"><a class="reference internal" href="relations_in_lean.html">14. Relations in Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">15. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions_in_lean.html">16. Functions in Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="the_natural_numbers_and_induction.html">17. The Natural Numbers and Induction</a></li>
<li class="toctree-l1"><a class="reference internal" href="the_natural_numbers_and_induction_in_lean.html">18. The Natural Numbers and Induction in Lean</a></li>
<li class="toctree-l1"><a class="reference internal" href="elementary_number_theory.html">19. Elementary Number Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="combinatorics.html">20. Combinatorics</a></li>
<li class="toctree-l1"><a class="reference internal" href="the_real_numbers.html">21. The Real Numbers</a></li>
<li class="toctree-l1"><a class="reference internal" href="the_infinite.html">22. The Infinite</a></li>
<li class="toctree-l1"><a class="reference internal" href="axiomatic_foundations.html">23. Axiomatic Foundations</a></li>
<li class="toctree-l1"><a class="reference internal" href="nd_quickref.html">24. Appendix: Natural Deduction Rules</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="logic_and_proof.pdf">PDF version</a></li>
    
    <li class="toctree-l1"><a href="https://leanprover.github.io/">Lean Home</a></li>
    
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Jeremy Avigad, Robert Y. Lewis, and Floris van Doorn.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/propositional_logic_in_lean.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>